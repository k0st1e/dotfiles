amends "package://github.com/jdx/hk/releases/download/v1.18.1/hk@1.18.1#/Config.pkl"

min_hk_version = "1.18.1"

local linters = new Mapping<String, Step> {
  ["tsc"] {
    check = "tsc --noEmit"
    glob = List("*.js", "*.ts")
  }
  ["biome"] {
    fix = "biome check --fix"
    check = "biome check"
    glob = List("*.js", "*.ts", "*.json")
  }
}

hooks {
  ["pre-commit"] {
    fix = true
    steps = linters
  }
  ["pre-push"] {
    steps = linters
  }
  ["fix"] {
    steps = linters
  }
  ["check"] {
    steps = linters
  }
}

